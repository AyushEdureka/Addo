<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body{
            font-family: Arial, Helvetica, sans-serif;
            padding: 20px;
        }

        .movie{
            border: 1px solid #ccc;
            padding: 20px;
            margin: 10px 0;
            max-width: 500px;
            display: flex;
            gap:10px;
            background: #f9f9f9;
            border-radius: 8px;
        }

        .movie img {
            max-width: 100px;
        }
    </style>
</head>
<body>
<h1>Movie Details</h1>
<input type="text" id="movieInput" placeholder="Enter movie" />
<button onclick="handleSearch()">Find</button>
<div  id="MovieC">

</div>


    <script>

     async function SearchMovie(movieName) {
         
        let url = `https://www.omdbapi.com/?s=${movieName}&apikey=a6606658`;

        try{

          const response   = await  fetch(url)
           let  data        = await response.json()

        //   console.log(data)
        const movieContainer = document.getElementById("MovieC")
        movieContainer.innerHTML = ""


        if(data.Response === "True"){
            data.Search.forEach(movie =>{
                const Poster = movie.Poster !== "N/A" ? movie.Poster: "https://via.placeholder/100";
                const title = movie.Title;
                const year = movie.Year;
                 const movieDiv = document.createElement("div")  
                movieDiv.className = "movie"

                movieDiv.innerHTML = `
                <img src=${Poster} >
                <div>
                <h3>${title}</h3>
                <p>${year}</p>
                </div>
                `;

                movieDiv.onclick = ()=>{
                    const TrailerURL = `https://www.youtube.com/results?search_query=${encodeURIComponent(title)}+trailer`
                    window.open(TrailerURL,"_blank")
                };

                movieContainer.appendChild(movieDiv)
               
                
            } )
        }else {
            movieContainer.innerHTML = "<p>NO Movie found</p>"
        }


        }catch(error){
            document.getElementById("MovieC").innerHTML = `<p>Error FetchingMovie ${error}</p>`
        }



     }
    

     function handleSearch(){
        const movieName = document.getElementById("movieInput").value
        if(movieName){
            SearchMovie(movieName)
        }
     }


    </script>
</body>
</html>